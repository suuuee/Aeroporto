<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<title>SMA Aeroporto</title>
<style>
	.left-background {
		background-image: url('images/background.png');
		background-size: 45%; /* Cover the entire background */
		background-position: left; /* Position the background image on the left */
		background-repeat: no-repeat; /* Do not repeat the background image */
	}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />


		<!-- d3 is for data visualization -->
		<script type="text/javascript" src="lib/d3.min.js"></script>
		
		<!-- custom styles for this application -->
		<link rel="stylesheet" href="styles/airport.css" media="screen"> <!-- custom styles for this application -->
</head>
<!-- Set class to official for more formal font; unofficial for informal font -->
<body class="official bgColor0 left-background">
	
	<!-- The surface is the main playing field for the game -->
	<svg id="surface" style="width:100%; height:100%" xmlns="http://www.w3.org/2000/svg" version="1.1">
	</svg>

	<div id="title"  style="position:absolute;bottom:1%;left:2%">Aeroporto simulation</div>
	
	<div id="controls" style="position:absolute;bottom:1%;left:30%">Animation Speed:
		<input id="slider1" type="range" min="0" value="400" max="1000" step="10" onchange="redrawWindow();" /> 
	</div>

	<div id="buttons" style="position:absolute; bottom:1%; left:60%">
        <button onclick="toggleSimStep()">Start / Pause</button>
    </div>
	
	<div id="shops" style="position:absolute;bottom:75vh;left:47vw">Number of Shops to Open:
		<input id="shopSlider" type="range" min="1" value="1" max="10" step="1" onchange="updateShops();" />
		<p> <span id="shopValue" style="position: absolute;bottom:-20%;left:80%;">1</span></p>
		<button id="shopConfirmBtn" onclick="confirmOpen()">Confirm</button>
		<!-- Hidden slider for food shops -->
		<div id="foodShops" style="display: none; position:absolute;top:10vh;left:0vw">How many food shops to open?
			<input id="foodShopSlider" type="range" min="1" value="1" max="1" step="1" onchange="updateFoodShops();" />
			<p> <span id="foodShopValue"style="position: absolute;bottom:-20%;left:80%;">1</span></p>
			<button id="foodShopConfirmBtn" onclick="confirmFoodShops()">Confirm Food Shops</button>
		</div>
	</div>

	<script>
		function updateShops(){
			var slider = document.getElementById("shopSlider");
			var output = document.getElementById("shopValue");
			output.innerHTML = slider.value;
    	}
		function confirmOpen() {
			var shops = document.getElementById("shopValue").innerHTML;
			var confirmation = confirm("Open " + shops + " shops?");
				if (confirmation) {
					// Show the food shop slider
					var foodShops = document.getElementById("foodShops");
					foodShops.style.display = "block";
					// Disable the shop slider and confirm button
					document.getElementById("shopSlider").disabled = true;
					document.getElementById("shopConfirmBtn").disabled = true;
					// Set max value for food shop slider
					var shopValue = parseInt(document.getElementById("shopValue").innerHTML);
					var foodShopSlider = document.getElementById("foodShopSlider");
					foodShopSlider.max = shopValue;
					foodShopSlider.value = 1; // Reset food shop slider value
					updateFoodShops(); // Update the display value of food shop slider
				}
    	}
		function updateFoodShops() {
			var foodSlider = document.getElementById("foodShopSlider");
			var foodOutput = document.getElementById("foodShopValue");
			foodOutput.innerHTML = foodSlider.value;
    	}
		function confirmFoodShops() {
			document.getElementById("foodShopSlider").disabled = true;
			document.getElementById("foodShopConfirmBtn").disabled = true;
			var foodShopsValue = parseInt(document.getElementById("foodShopValue").innerHTML);
			var totalShops = parseInt(document.getElementById("shopValue").innerHTML);
			var retailShopsValue = totalShops - foodShopsValue;
			var message = foodShopsValue + " food shops confirmed!\n" + retailShopsValue + " retail shops confirmed!";
			alert(message);
    	}
	</script>

	<a id="credits" href="https://icons8.com/icons" style="position:absolute;bottom:0;right:0">Icons by icons8.com</a>
	
	<!-- Anything below this line should be a popup window or dialog or a late-loading library -->
	
	<script type="text/javascript" src="lib/Airport.js"></script>
	
</body>
</html>
